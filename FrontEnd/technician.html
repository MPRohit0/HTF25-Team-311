<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Medithingy Dashboard</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    /* Card gradient backgrounds */
    .bg-gradient-primary { background: linear-gradient(45deg, #1a76d1, #1a76d1); }
    .bg-gradient-success { background: linear-gradient(45deg, #1a76d1, #1a76d1); }
    .bg-gradient-warning { background: linear-gradient(45deg, #1a76d1, #1a76d1); }
    .bg-gradient-danger { background: linear-gradient(45deg, #1a76d1, #1a76d1); }
    /* Table hover */
    tbody tr:hover { background-color: #f1f1f1; cursor: pointer; }
    /* Counter animation */
    .counter { font-weight: bold; }
  </style>
</head>
<body>
  <!-- Header / Navbar -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #1a76d1;">
      <div class="container-fluid">
        <a class="navbar-brand" href="medipanelpro2.html">MediConnect</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link active" href="medipanelpro2.html">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="patients.html">Patients</a></li>
            
            <!-- Staff Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="staffDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="staffDropdown">
                <li><a class="dropdown-item" href="doctors.html"><i class="bi bi-stethoscope me-2"></i>Doctors</a></li>
                <li><a class="dropdown-item" href="nurses.html"><i class="bi bi-heart-pulse me-2"></i>Nurses</a></li>
                <li><a class="dropdown-item" href="technicians.html"><i class="bi bi-tools me-2"></i>Technicians</a></li>
              </ul>
            </li>
            
            <!-- Services Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="servicesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Services
              </a>
              <ul class="dropdown-menu" aria-labelledby="servicesDropdown">
                <li><a class="dropdown-item" href="appointments.html"><i class="bi bi-calendar-check me-2"></i>Appointments</a></li>
                <li><a class="dropdown-item" href="tests.html"><i class="bi bi-clipboard2-pulse me-2"></i>Tests</a></li>
                <li><a class="dropdown-item" href="mris.html"><i class="bi bi-file-medical me-2"></i>MRIs</a></li>
              </ul>
            </li>
            
            <li class="nav-item"><a class="nav-link" href="#">Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Dashboard Content -->
  <main class="container my-5">
    <!-- Cards Row -->
    <div class="row g-4">
      <div class="col-md-3">
        <div class="card text-white bg-gradient-primary h-100">
          <div class="card-body d-flex align-items-center">
            <i class="bi bi-person-fill fs-1 me-3"></i>
            <div>
              <h5 class="card-title">Total Patients</h5>
              <p class="card-text fs-3 counter" data-target="25">0</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-white bg-gradient-success h-100">
          <div class="card-body d-flex align-items-center">
            <i class="bi bi-stethoscope fs-1 me-3"></i>
            <div>
              <h5 class="card-title">Total Doctors</h5>
              <p class="card-text fs-3 counter" data-target="8">0</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-white bg-gradient-warning h-100">
          <div class="card-body d-flex align-items-center">
            <i class="bi bi-calendar-check fs-1 me-3"></i>
            <div>
              <h5 class="card-title">Today's Appointments</h5>
              <p class="card-text fs-3 counter" data-target="12">0</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-white bg-gradient-danger h-100">
          <div class="card-body d-flex align-items-center">
            <i class="bi bi-hospital fs-1 me-3"></i>
            <div>
              <h5 class="card-title">Available Beds</h5>
              <p class="card-text fs-3 counter" data-target="5">0</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Editor: manage doctor, patient, and nurse CSV tables -->
    <div class="mt-5">
      <h4>Manage Patient Records</h4>

      <!-- Hospital Stats Editor -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="card-title mb-0">Hospital Stats</h5>
          </div>
          <div class="row g-2">
            <div class="col-md-3">
              <label class="form-label">Total Doctors</label>
              <input id="hs_total_doctors" class="form-control form-control-sm" type="number" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Total Patients</label>
              <input id="hs_total_patients" class="form-control form-control-sm" type="number" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Appointments Today</label>
              <input id="hs_appointments_today" class="form-control form-control-sm" type="number" />
            </div>
            <div class="col-md-3">
              <label class="form-label">Available Beds</label>
              <input id="hs_available_beds" class="form-control form-control-sm" type="number" />
            </div>
          </div>
          <div class="mt-3">
            <button id="saveHospitalStats" class="btn btn-sm" style="background-color: #1a76d1; color: white;">Save Hospital Stats</button>
            <span id="hospitalStatsStatus" class="ms-2 text-muted"></span>
          </div>
        </div>
      </div>
      
      <!-- Doctor's Patients -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="card-title mb-0">Doctor's Patients</h5>
            <button id="addDoctorRow" class="btn btn-sm" style="background-color: #1a76d1; color: white;">
              <i class="bi bi-plus-lg"></i> Add New
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-hover" id="doctorTable">
              <thead style="background-color: #1a76d1; color: white;">
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Gender</th>
                  <th>Doctor</th>
                  <th>Next Appointment</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="doctorTableBody"></tbody>
            </table>
          </div>
          <div class="mt-2">
            <button id="saveDoctorTable" class="btn btn-sm" style="background-color: #1a76d1; color: white;">Save Changes</button>
            <span id="doctorStatus" class="ms-2 text-muted"></span>
          </div>
        </div>
      </div>

      <!-- Patient's Records -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="card-title mb-0">Patient Records</h5>
            <button id="addPatientRow" class="btn btn-sm" style="background-color: #1a76d1; color: white;">
              <i class="bi bi-plus-lg"></i> Add New
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-hover" id="patientTable">
              <thead style="background-color: #1a76d1; color: white;">
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Gender</th>
                  <th>Doctor</th>
                  <th>Next Appointment</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="patientTableBody"></tbody>
            </table>
          </div>
          <div class="mt-2">
            <button id="savePatientTable" class="btn btn-sm" style="background-color: #1a76d1; color: white;">Save Changes</button>
            <span id="patientStatus" class="ms-2 text-muted"></span>
          </div>
        </div>
      </div>

      <!-- Nurse's Patients -->
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h5 class="card-title mb-0">Nurse's Patients</h5>
            <button id="addNurseRow" class="btn btn-sm" style="background-color: #1a76d1; color: white;">
              <i class="bi bi-plus-lg"></i> Add New
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-hover" id="nurseTable">
              <thead style="background-color: #1a76d1; color: white;">
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Age</th>
                  <th>Gender</th>
                  <th>Doctor</th>
                  <th>Next Appointment</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="nurseTableBody"></tbody>
            </table>
          </div>
          <div class="mt-2">
            <button id="saveNurseTable" class="btn btn-sm" style="background-color: #1a76d1; color: white;">Save Changes</button>
            <span id="nurseStatus" class="ms-2 text-muted"></span>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-light text-center text-muted py-3 mt-5">
    &copy; 2025 MediConnect | All Rights Reserved
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Animated Counters JS -->
  <script>
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => {
      counter.innerText = '0';
      const updateCounter = () => {
        const target = +counter.getAttribute('data-target');
        const current = +counter.innerText;
        const increment = target / 50;
        if(current < target){
          counter.innerText = `${Math.ceil(current + increment)}`;
          setTimeout(updateCounter, 30);
        } else {
          counter.innerText = target;
        }
      };
      updateCounter();
    });
  </script>
  <script src="technician_editor.js"></script>
</body>
</html>